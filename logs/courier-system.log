2025-02-24T00:22:40.737+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s519ms).
2025-02-24T00:39:07.195+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s705ms).
2025-02-24T00:55:02.128+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s934ms).
2025-02-24T01:11:27.823+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s684ms).
2025-02-24T01:27:23.589+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s768ms).
2025-02-24T01:43:49.277+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s689ms).
2025-02-24T01:59:44.118+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s840ms).
2025-02-24T02:08:19.808+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m5s682ms).
2025-02-24T02:24:14.697+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s888ms).
2025-02-24T02:40:40.546+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s838ms).
2025-02-24T02:55:04.924+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m24s380ms).
2025-02-24T03:09:11.873+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m36s933ms).
2025-02-24T03:09:39.447+03:00  INFO 15518 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 24 total, 0 closed abnormally (0 connect failure, 0 send limit, 1 transport error)], stompSubProtocol[processed CONNECT(24)-CONNECTED(24)-DISCONNECT(14)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 258], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 62], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 0, completed tasks = 8]
2025-02-24T03:26:05.504+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m23s618ms).
2025-02-24T03:42:31.229+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s699ms).
2025-02-24T03:54:32.240+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m30s995ms).
2025-02-24T04:10:09.277+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m37s41ms).
2025-02-24T04:26:39.635+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m349ms).
2025-02-24T04:42:35.237+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s603ms).
2025-02-24T04:58:30.520+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s276ms).
2025-02-24T05:11:07.376+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m6s585ms).
2025-02-24T05:20:47.287+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m9s892ms).
2025-02-24T05:36:43.057+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s774ms).
2025-02-24T05:47:12.990+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m59s906ms).
2025-02-24T06:12:06.762+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=24m53s774ms).
2025-02-24T06:15:16.737+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m9s977ms).
2025-02-24T06:20:58.690+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m11s943ms).
2025-02-24T07:12:56.775+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50m9s948ms).
2025-02-24T07:47:20.439+03:00  WARN 15518 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=33m53s711ms).
2025-02-24T07:50:40.174+03:00  INFO 15518 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2025-02-24T07:50:40.181+03:00  INFO 15518 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@68a4129d]]
2025-02-24T07:50:40.183+03:00  INFO 15518 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2025-02-24T07:50:40.489+03:00  INFO 15518 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-24T07:50:40.510+03:00  INFO 15518 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-02-24T07:50:40.518+03:00  INFO 15518 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-02-24T07:50:49.946+03:00  INFO 30540 --- [main] e.c.CourierDistributionSystemApplication : Starting CourierDistributionSystemApplication using Java 23 with PID 30540 (/Users/onur/Desktop/untitled/CourierDistributionSystem/target/classes started by onur in /Users/onur/Desktop/untitled/CourierDistributionSystem)
2025-02-24T07:50:49.947+03:00 DEBUG 30540 --- [main] e.c.CourierDistributionSystemApplication : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-02-24T07:50:49.947+03:00  INFO 30540 --- [main] e.c.CourierDistributionSystemApplication : The following 1 profile is active: "development"
2025-02-24T07:50:50.452+03:00  INFO 30540 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-24T07:50:50.453+03:00  INFO 30540 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-24T07:50:50.555+03:00  INFO 30540 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 7 JPA repository interfaces.
2025-02-24T07:50:50.556+03:00  INFO 30540 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-24T07:50:50.557+03:00  INFO 30540 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-24T07:50:50.576+03:00  INFO 30540 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 6 Redis repository interfaces.
2025-02-24T07:50:51.414+03:00  INFO 30540 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-02-24T07:50:51.422+03:00  INFO 30540 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-02-24T07:50:51.422+03:00  INFO 30540 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-02-24T07:50:51.454+03:00  INFO 30540 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-02-24T07:50:51.454+03:00  INFO 30540 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1476 ms
2025-02-24T07:50:51.564+03:00  INFO 30540 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-02-24T07:50:51.734+03:00  INFO 30540 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/courierdb user=SA
2025-02-24T07:50:51.735+03:00  INFO 30540 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-02-24T07:50:51.744+03:00  INFO 30540 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/courierdb'
2025-02-24T07:50:51.886+03:00  INFO 30540 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-24T07:50:51.931+03:00  INFO 30540 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-02-24T07:50:51.956+03:00  INFO 30540 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-24T07:50:52.129+03:00  INFO 30540 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-24T07:50:52.160+03:00  WARN 30540 --- [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-24T07:50:52.236+03:00  WARN 30540 --- [main] o.h.boot.model.internal.EntityBinder     : HHH000136: Inapropriate use of @OnDelete on entity, annotation ignored: com.example.courierdistributionsystem.model.User
2025-02-24T07:50:53.079+03:00  INFO 30540 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-24T07:50:53.116+03:00  INFO 30540 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-24T07:50:55.181+03:00  INFO 30540 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-02-24T07:50:55.264+03:00  INFO 30540 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-02-24T07:50:55.265+03:00  INFO 30540 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2025-02-24T07:50:55.265+03:00  INFO 30540 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@67d361fa]]
2025-02-24T07:50:55.265+03:00  INFO 30540 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2025-02-24T07:50:55.278+03:00  INFO 30540 --- [main] e.c.CourierDistributionSystemApplication : Started CourierDistributionSystemApplication in 5.619 seconds (process running for 6.309)
2025-02-24T07:50:55.539+03:00  INFO 30540 --- [RMI TCP Connection(4)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-24T07:50:55.539+03:00  INFO 30540 --- [RMI TCP Connection(4)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-02-24T07:50:55.541+03:00  INFO 30540 --- [RMI TCP Connection(4)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-02-24T07:51:27.180+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T07:51:27.276+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T07:51:27.309+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T07:51:27.314+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T07:51:27.346+03:00  INFO 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T07:51:27.346+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 08:51:27 GMT+03:00 2025
2025-02-24T07:51:27.365+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T07:51:27.367+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T07:51:27.368+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T07:51:27.369+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T07:51:27.370+03:00  INFO 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T07:51:27.370+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 08:51:27 GMT+03:00 2025
2025-02-24T07:51:55.251+03:00  INFO 30540 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(2)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 30], outboundChannel[pool size = 7, active threads = 0, queued tasks = 0, completed tasks = 7], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-02-24T08:21:55.181+03:00  INFO 30540 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(2)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 33], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 8], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-02-24T09:06:23.284+03:00  WARN 30540 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=27m30s921ms).
2025-02-24T09:18:56.193+03:00  INFO 30540 --- [MessageBroker-2] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(2)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 33], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 8], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-02-24T09:29:48.763+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T09:29:48.876+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T09:29:48.921+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T09:29:48.925+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T09:29:48.974+03:00  INFO 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T09:29:48.974+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 10:29:48 GMT+03:00 2025
2025-02-24T09:34:33.355+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T09:34:33.391+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T09:34:33.400+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T09:34:33.402+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T09:34:33.420+03:00  INFO 30540 --- [http-nio-8080-exec-9] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T09:34:33.420+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 10:34:33 GMT+03:00 2025
2025-02-24T09:36:16.969+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T09:36:16.997+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T09:36:17.008+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T09:36:17.011+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T09:36:17.017+03:00  INFO 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T09:36:17.017+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 10:36:17 GMT+03:00 2025
2025-02-24T09:37:21.532+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T09:37:21.554+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T09:37:21.561+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T09:37:21.564+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T09:37:21.569+03:00  INFO 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T09:37:21.569+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 10:37:21 GMT+03:00 2025
2025-02-24T09:48:56.324+03:00  INFO 30540 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[4 current WS(4)-HttpStream(0)-HttpPoll(0), 34 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(34)-CONNECTED(34)-DISCONNECT(23)], stompBrokerRelay[null], inboundChannel[pool size = 14, active threads = 0, queued tasks = 0, completed tasks = 363], outboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 87], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 3]
2025-02-24T09:54:57.716+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T09:54:57.753+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T09:54:57.770+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T09:54:57.772+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T09:54:57.779+03:00  INFO 30540 --- [http-nio-8080-exec-8] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T09:54:57.779+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 10:54:57 GMT+03:00 2025
2025-02-24T09:55:22.031+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T09:55:22.046+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T09:55:22.051+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T09:55:22.052+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T09:55:22.058+03:00  INFO 30540 --- [http-nio-8080-exec-9] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T09:55:22.058+03:00 DEBUG 30540 --- [http-nio-8080-exec-9] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 10:55:22 GMT+03:00 2025
2025-02-24T10:07:45.067+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:07:45.285+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:07:45.397+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:07:45.405+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:07:45.486+03:00  INFO 30540 --- [http-nio-8080-exec-6] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:07:45.486+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:07:45 GMT+03:00 2025
2025-02-24T10:08:05.508+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:08:05.584+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:08:05.612+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:08:05.619+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:08:05.669+03:00  INFO 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:08:05.669+03:00 DEBUG 30540 --- [http-nio-8080-exec-3] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:08:05 GMT+03:00 2025
2025-02-24T10:09:10.238+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:09:10.250+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:09:10.254+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:09:10.256+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:09:10.263+03:00  INFO 30540 --- [http-nio-8080-exec-6] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:09:10.263+03:00 DEBUG 30540 --- [http-nio-8080-exec-6] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:09:10 GMT+03:00 2025
2025-02-24T10:09:24.322+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:09:24.333+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:09:24.336+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:09:24.338+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:09:24.343+03:00  INFO 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:09:24.344+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:09:24 GMT+03:00 2025
2025-02-24T10:09:50.576+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:09:50.588+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:09:50.592+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:09:50.594+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:09:50.603+03:00  INFO 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:09:50.603+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:09:50 GMT+03:00 2025
2025-02-24T10:13:55.365+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:13:55.412+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:13:55.444+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:13:55.446+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:13:55.479+03:00  INFO 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:13:55.480+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:13:55 GMT+03:00 2025
2025-02-24T10:14:26.798+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:14:26.808+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:14:26.812+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:14:26.814+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:14:26.830+03:00  INFO 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:14:26.830+03:00 DEBUG 30540 --- [http-nio-8080-exec-2] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:14:26 GMT+03:00 2025
2025-02-24T10:16:12.195+03:00 DEBUG 30540 --- [http-nio-8080-exec-4] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:16:12.255+03:00 DEBUG 30540 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:16:12.303+03:00 DEBUG 30540 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:16:12.306+03:00 DEBUG 30540 --- [http-nio-8080-exec-4] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:16:12.328+03:00  INFO 30540 --- [http-nio-8080-exec-4] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:16:12.328+03:00 DEBUG 30540 --- [http-nio-8080-exec-4] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:16:12 GMT+03:00 2025
2025-02-24T10:17:31.479+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:17:31.513+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:17:31.534+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:17:31.537+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:17:31.548+03:00  INFO 30540 --- [http-nio-8080-exec-8] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:17:31.548+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:17:31 GMT+03:00 2025
2025-02-24T10:18:56.376+03:00  INFO 30540 --- [MessageBroker-3] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 60 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(59)-CONNECTED(59)-DISCONNECT(36)], stompBrokerRelay[null], inboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 642], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 155], sockJsScheduler[pool size = 5, active threads = 1, queued tasks = 0, completed tasks = 4]
2025-02-24T10:19:08.183+03:00 DEBUG 30540 --- [http-nio-8080-exec-5] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T10:19:08.223+03:00 DEBUG 30540 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T10:19:08.241+03:00 DEBUG 30540 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T10:19:08.243+03:00 DEBUG 30540 --- [http-nio-8080-exec-5] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T10:19:08.259+03:00  INFO 30540 --- [http-nio-8080-exec-5] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T10:19:08.259+03:00 DEBUG 30540 --- [http-nio-8080-exec-5] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 11:19:08 GMT+03:00 2025
2025-02-24T10:55:55.492+03:00  WARN 30540 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=35m30s864ms).
2025-02-24T10:58:13.514+03:00  WARN 30540 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m17s974ms).
2025-02-24T11:04:41.666+03:00 DEBUG 30540 --- [http-nio-8080-exec-10] c.e.c.c.r.CustomerController             : Customer null attempting to create new package
2025-02-24T11:04:41.669+03:00  WARN 30540 --- [http-nio-8080-exec-10] c.e.c.c.r.CustomerController             : Unauthorized attempt to create package
2025-02-24T11:05:20.867+03:00 DEBUG 30540 --- [http-nio-8080-exec-4] c.e.c.c.r.CustomerController             : Customer null attempting to create new package
2025-02-24T11:05:20.870+03:00  WARN 30540 --- [http-nio-8080-exec-4] c.e.c.c.r.CustomerController             : Unauthorized attempt to create package
2025-02-24T11:06:10.054+03:00 DEBUG 30540 --- [http-nio-8080-exec-8] c.e.c.c.r.CustomerController             : Customer null attempting to create new package
2025-02-24T11:06:10.057+03:00  WARN 30540 --- [http-nio-8080-exec-8] c.e.c.c.r.CustomerController             : Unauthorized attempt to create package
2025-02-24T11:12:59.189+03:00  INFO 30540 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2025-02-24T11:12:59.199+03:00  INFO 30540 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@67d361fa]]
2025-02-24T11:12:59.202+03:00  INFO 30540 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2025-02-24T11:12:59.644+03:00  INFO 30540 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-24T11:12:59.710+03:00  INFO 30540 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-02-24T11:12:59.715+03:00  INFO 30540 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-02-24T11:13:02.606+03:00  INFO 37188 --- [main] e.c.CourierDistributionSystemApplication : Starting CourierDistributionSystemApplication using Java 23 with PID 37188 (/Users/onur/Desktop/untitled/CourierDistributionSystem/target/classes started by onur in /Users/onur/Desktop/untitled/CourierDistributionSystem)
2025-02-24T11:13:02.612+03:00 DEBUG 37188 --- [main] e.c.CourierDistributionSystemApplication : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-02-24T11:13:02.612+03:00  INFO 37188 --- [main] e.c.CourierDistributionSystemApplication : The following 1 profile is active: "development"
2025-02-24T11:13:02.955+03:00  INFO 37188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-24T11:13:02.956+03:00  INFO 37188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-24T11:13:03.018+03:00  INFO 37188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 7 JPA repository interfaces.
2025-02-24T11:13:03.022+03:00  INFO 37188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-24T11:13:03.022+03:00  INFO 37188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-24T11:13:03.038+03:00  INFO 37188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 6 Redis repository interfaces.
2025-02-24T11:13:03.536+03:00  INFO 37188 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-02-24T11:13:03.540+03:00  INFO 37188 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-02-24T11:13:03.540+03:00  INFO 37188 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-02-24T11:13:03.558+03:00  INFO 37188 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-02-24T11:13:03.558+03:00  INFO 37188 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 925 ms
2025-02-24T11:13:03.618+03:00  INFO 37188 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-02-24T11:13:03.713+03:00  INFO 37188 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/courierdb user=SA
2025-02-24T11:13:03.713+03:00  INFO 37188 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-02-24T11:13:03.718+03:00  INFO 37188 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/courierdb'
2025-02-24T11:13:03.819+03:00  INFO 37188 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-24T11:13:03.847+03:00  INFO 37188 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-02-24T11:13:03.861+03:00  INFO 37188 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-24T11:13:03.951+03:00  INFO 37188 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-24T11:13:03.969+03:00  WARN 37188 --- [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-24T11:13:04.010+03:00  WARN 37188 --- [main] o.h.boot.model.internal.EntityBinder     : HHH000136: Inapropriate use of @OnDelete on entity, annotation ignored: com.example.courierdistributionsystem.model.User
2025-02-24T11:13:04.434+03:00  INFO 37188 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-24T11:13:04.456+03:00  INFO 37188 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-24T11:13:05.575+03:00  INFO 37188 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-02-24T11:13:05.632+03:00  INFO 37188 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-02-24T11:13:05.633+03:00  INFO 37188 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2025-02-24T11:13:05.633+03:00  INFO 37188 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@411acaed]]
2025-02-24T11:13:05.633+03:00  INFO 37188 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2025-02-24T11:13:05.641+03:00  INFO 37188 --- [main] e.c.CourierDistributionSystemApplication : Started CourierDistributionSystemApplication in 3.21 seconds (process running for 3.577)
2025-02-24T11:13:05.850+03:00  INFO 37188 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-24T11:13:05.850+03:00  INFO 37188 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-02-24T11:13:05.851+03:00  INFO 37188 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-02-24T11:14:05.636+03:00  INFO 37188 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-02-24T11:14:12.929+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] c.e.c.utils.JwtUtils                     : Extracting username from token
2025-02-24T11:14:12.963+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] c.e.c.utils.JwtUtils                     : Username extracted from token: customer
2025-02-24T11:14:12.963+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] c.e.c.c.r.CustomerController             : Customer customer attempting to create new package
2025-02-24T11:14:12.971+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] c.e.c.service.impl.CustomerServiceImpl   : Fetching customer by username: customer
2025-02-24T11:14:13.040+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.default_address 
    from
        customers c1_0 
    join
        users c1_1 
            on c1_0.id=c1_1.id 
    where
        c1_1.username=?
2025-02-24T11:14:13.070+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] c.e.c.service.impl.CustomerServiceImpl   : Creating delivery package for customer: customer
2025-02-24T11:14:13.070+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] c.e.c.service.impl.CustomerServiceImpl   : Fetching customer by username: customer
2025-02-24T11:14:13.071+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.default_address 
    from
        customers c1_0 
    join
        users c1_1 
            on c1_0.id=c1_1.id 
    where
        c1_1.username=?
2025-02-24T11:14:13.072+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] c.e.c.s.impl.DeliveryPackageServiceImpl  : Creating new delivery package
2025-02-24T11:14:13.082+03:00 DEBUG 37188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        delivery_packages
        (assigned_at, cancelled_at, courier_id, created_at, current_latitude, current_location, current_longitude, customer_id, delivered_at, delivery_address, description, latitude, longitude, picked_up_at, pickup_address, special_instructions, status, tracking_number, updated_at, weight, package_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-02-24T11:14:13.087+03:00  WARN 37188 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2025-02-24T11:14:13.087+03:00 ERROR 37188 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "CUSTOMER_ID"; SQL statement:
insert into delivery_packages (assigned_at,cancelled_at,courier_id,created_at,current_latitude,current_location,current_longitude,customer_id,delivered_at,delivery_address,description,latitude,longitude,picked_up_at,pickup_address,special_instructions,status,tracking_number,updated_at,weight,package_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default) [23502-224]
2025-02-24T11:14:13.092+03:00 ERROR 37188 --- [http-nio-8080-exec-4] c.e.c.c.r.CustomerController             : Error creating package for customer customer: could not execute statement [NULL not allowed for column "CUSTOMER_ID"; SQL statement:
insert into delivery_packages (assigned_at,cancelled_at,courier_id,created_at,current_latitude,current_location,current_longitude,customer_id,delivered_at,delivery_address,description,latitude,longitude,picked_up_at,pickup_address,special_instructions,status,tracking_number,updated_at,weight,package_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default) [23502-224]] [insert into delivery_packages (assigned_at,cancelled_at,courier_id,created_at,current_latitude,current_location,current_longitude,customer_id,delivered_at,delivery_address,description,latitude,longitude,picked_up_at,pickup_address,special_instructions,status,tracking_number,updated_at,weight,package_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)]; SQL [insert into delivery_packages (assigned_at,cancelled_at,courier_id,created_at,current_latitude,current_location,current_longitude,customer_id,delivered_at,delivery_address,description,latitude,longitude,picked_up_at,pickup_address,special_instructions,status,tracking_number,updated_at,weight,package_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)]; constraint [null]
2025-02-24T11:14:19.531+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] c.e.c.utils.JwtUtils                     : Extracting username from token
2025-02-24T11:14:19.538+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] c.e.c.utils.JwtUtils                     : Username extracted from token: customer
2025-02-24T11:14:19.539+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] c.e.c.c.r.CustomerController             : Customer customer attempting to create new package
2025-02-24T11:14:19.539+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] c.e.c.service.impl.CustomerServiceImpl   : Fetching customer by username: customer
2025-02-24T11:14:19.542+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.default_address 
    from
        customers c1_0 
    join
        users c1_1 
            on c1_0.id=c1_1.id 
    where
        c1_1.username=?
2025-02-24T11:14:19.546+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] c.e.c.service.impl.CustomerServiceImpl   : Creating delivery package for customer: customer
2025-02-24T11:14:19.546+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] c.e.c.service.impl.CustomerServiceImpl   : Fetching customer by username: customer
2025-02-24T11:14:19.548+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.default_address 
    from
        customers c1_0 
    join
        users c1_1 
            on c1_0.id=c1_1.id 
    where
        c1_1.username=?
2025-02-24T11:14:19.548+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] c.e.c.s.impl.DeliveryPackageServiceImpl  : Creating new delivery package
2025-02-24T11:14:19.549+03:00 DEBUG 37188 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        delivery_packages
        (assigned_at, cancelled_at, courier_id, created_at, current_latitude, current_location, current_longitude, customer_id, delivered_at, delivery_address, description, latitude, longitude, picked_up_at, pickup_address, special_instructions, status, tracking_number, updated_at, weight, package_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-02-24T11:14:19.550+03:00  WARN 37188 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2025-02-24T11:14:19.550+03:00 ERROR 37188 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "CUSTOMER_ID"; SQL statement:
insert into delivery_packages (assigned_at,cancelled_at,courier_id,created_at,current_latitude,current_location,current_longitude,customer_id,delivered_at,delivery_address,description,latitude,longitude,picked_up_at,pickup_address,special_instructions,status,tracking_number,updated_at,weight,package_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default) [23502-224]
2025-02-24T11:14:19.550+03:00 ERROR 37188 --- [http-nio-8080-exec-6] c.e.c.c.r.CustomerController             : Error creating package for customer customer: could not execute statement [NULL not allowed for column "CUSTOMER_ID"; SQL statement:
insert into delivery_packages (assigned_at,cancelled_at,courier_id,created_at,current_latitude,current_location,current_longitude,customer_id,delivered_at,delivery_address,description,latitude,longitude,picked_up_at,pickup_address,special_instructions,status,tracking_number,updated_at,weight,package_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default) [23502-224]] [insert into delivery_packages (assigned_at,cancelled_at,courier_id,created_at,current_latitude,current_location,current_longitude,customer_id,delivered_at,delivery_address,description,latitude,longitude,picked_up_at,pickup_address,special_instructions,status,tracking_number,updated_at,weight,package_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)]; SQL [insert into delivery_packages (assigned_at,cancelled_at,courier_id,created_at,current_latitude,current_location,current_longitude,customer_id,delivered_at,delivery_address,description,latitude,longitude,picked_up_at,pickup_address,special_instructions,status,tracking_number,updated_at,weight,package_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)]; constraint [null]
2025-02-24T11:19:59.663+03:00  INFO 37188 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2025-02-24T11:19:59.666+03:00  INFO 37188 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@411acaed]]
2025-02-24T11:19:59.666+03:00  INFO 37188 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2025-02-24T11:19:59.814+03:00  INFO 37188 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-24T11:19:59.820+03:00  INFO 37188 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-02-24T11:19:59.823+03:00  INFO 37188 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-02-24T11:28:04.876+03:00  INFO 38271 --- [main] e.c.CourierDistributionSystemApplication : Starting CourierDistributionSystemApplication using Java 23 with PID 38271 (/Users/onur/Desktop/untitled/CourierDistributionSystem/target/classes started by onur in /Users/onur/Desktop/untitled/CourierDistributionSystem)
2025-02-24T11:28:04.880+03:00 DEBUG 38271 --- [main] e.c.CourierDistributionSystemApplication : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-02-24T11:28:04.881+03:00  INFO 38271 --- [main] e.c.CourierDistributionSystemApplication : The following 1 profile is active: "development"
2025-02-24T11:28:05.343+03:00  INFO 38271 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-24T11:28:05.343+03:00  INFO 38271 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-24T11:28:05.404+03:00  INFO 38271 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 7 JPA repository interfaces.
2025-02-24T11:28:05.405+03:00  INFO 38271 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-24T11:28:05.405+03:00  INFO 38271 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-24T11:28:05.418+03:00  INFO 38271 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 6 Redis repository interfaces.
2025-02-24T11:28:06.028+03:00  INFO 38271 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-02-24T11:28:06.038+03:00  INFO 38271 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-02-24T11:28:06.038+03:00  INFO 38271 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-02-24T11:28:06.073+03:00  INFO 38271 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-02-24T11:28:06.074+03:00  INFO 38271 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1166 ms
2025-02-24T11:28:06.175+03:00  INFO 38271 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-02-24T11:28:06.344+03:00  INFO 38271 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/courierdb user=SA
2025-02-24T11:28:06.345+03:00  INFO 38271 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-02-24T11:28:06.350+03:00  INFO 38271 --- [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/courierdb'
2025-02-24T11:28:06.445+03:00  INFO 38271 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-24T11:28:06.478+03:00  INFO 38271 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-02-24T11:28:06.510+03:00  INFO 38271 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-02-24T11:28:06.611+03:00  INFO 38271 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-24T11:28:06.643+03:00  WARN 38271 --- [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-02-24T11:28:06.697+03:00  WARN 38271 --- [main] o.h.boot.model.internal.EntityBinder     : HHH000136: Inapropriate use of @OnDelete on entity, annotation ignored: com.example.courierdistributionsystem.model.User
2025-02-24T11:28:07.195+03:00  INFO 38271 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-02-24T11:28:07.219+03:00  INFO 38271 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-24T11:28:08.273+03:00  INFO 38271 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
2025-02-24T11:28:08.318+03:00  INFO 38271 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-02-24T11:28:08.318+03:00  INFO 38271 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2025-02-24T11:28:08.319+03:00  INFO 38271 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@27ebe541]]
2025-02-24T11:28:08.319+03:00  INFO 38271 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2025-02-24T11:28:08.326+03:00  INFO 38271 --- [main] e.c.CourierDistributionSystemApplication : Started CourierDistributionSystemApplication in 3.676 seconds (process running for 4.115)
2025-02-24T11:28:08.943+03:00  INFO 38271 --- [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-24T11:28:08.943+03:00  INFO 38271 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-02-24T11:28:08.944+03:00  INFO 38271 --- [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-02-24T11:28:16.949+03:00 DEBUG 38271 --- [http-nio-8080-exec-8] c.e.c.utils.JwtUtils                     : Extracting username from token
2025-02-24T11:28:17.040+03:00  WARN 38271 --- [http-nio-8080-exec-8] c.e.c.utils.JwtUtils                     : Attempt to extract username from expired token
2025-02-24T11:28:27.261+03:00 DEBUG 38271 --- [http-nio-8080-exec-10] c.e.c.service.impl.UserServiceImpl       : Looking up user by username: customer
2025-02-24T11:28:27.347+03:00 DEBUG 38271 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        case 
            when u1_1.id is not null 
                then 1 
            when u1_2.user_id is not null 
                then 2 
            when u1_3.id is not null 
                then 3 
            when u1_0.id is not null 
                then 0 
            end,
            u1_0.created_at,
            u1_0.email,
            u1_0.password,
            u1_0.phone_number,
            u1_0.role,
            u1_0.username,
            u1_2.available,
            u1_2.current_latitude,
            u1_2.current_longitude,
            u1_2.current_zone,
            u1_2.user_id,
            u1_2.vehicle_type,
            u1_3.default_address,
            u1_3.id 
        from
            users u1_0 
        left join
            admins u1_1 
                on u1_0.id=u1_1.id 
        left join
            couriers u1_2 
                on u1_0.id=u1_2.user_id 
        left join
            customers u1_3 
                on u1_0.id=u1_3.id 
        where
            u1_0.username=?
2025-02-24T11:28:27.370+03:00 DEBUG 38271 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.customer_id,
        p1_0.package_id,
        p1_0.assigned_at,
        p1_0.cancelled_at,
        c1_0.user_id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.available,
        c1_0.current_latitude,
        c1_0.current_longitude,
        c1_0.current_zone,
        c1_0.vehicle_type,
        p1_0.created_at,
        p1_0.current_latitude,
        p1_0.current_location,
        p1_0.current_longitude,
        p1_0.delivered_at,
        p1_0.delivery_address,
        p1_0.description,
        p1_0.latitude,
        p1_0.longitude,
        p1_0.picked_up_at,
        p1_0.pickup_address,
        p1_0.special_instructions,
        p1_0.status,
        p1_0.tracking_number,
        p1_0.updated_at,
        p1_0.weight 
    from
        delivery_packages p1_0 
    left join
        (couriers c1_0 
    join
        users c1_1 
            on c1_0.user_id=c1_1.id) 
        on c1_0.user_id=p1_0.courier_id 
    where
        p1_0.customer_id=?
2025-02-24T11:28:27.373+03:00 DEBUG 38271 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : Generating JWT token for user: customer, role: CUSTOMER
2025-02-24T11:28:27.377+03:00  INFO 38271 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : JWT token generated successfully for user: customer
2025-02-24T11:28:27.377+03:00 DEBUG 38271 --- [http-nio-8080-exec-10] c.e.c.utils.JwtUtils                     : Token expiration set to: Mon Feb 24 12:28:27 GMT+03:00 2025
2025-02-24T11:29:04.478+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.utils.JwtUtils                     : Extracting username from token
2025-02-24T11:29:04.485+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.utils.JwtUtils                     : Username extracted from token: customer
2025-02-24T11:29:04.485+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.utils.JwtUtils                     : Extracting userId from token
2025-02-24T11:29:04.486+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.utils.JwtUtils                     : UserId extracted from token: 7
2025-02-24T11:29:04.486+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.c.r.CustomerController             : Customer customer (ID: 7) attempting to create new package
2025-02-24T11:29:04.491+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.service.impl.CustomerServiceImpl   : Fetching customer by ID: 7
2025-02-24T11:29:04.508+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.default_address 
    from
        customers c1_0 
    join
        users c1_1 
            on c1_0.id=c1_1.id 
    where
        c1_0.id=?
2025-02-24T11:29:04.524+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.service.impl.CustomerServiceImpl   : Creating delivery package for customer: customer (ID: 7)
2025-02-24T11:29:04.524+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.service.impl.CustomerServiceImpl   : Fetching customer by ID: 7
2025-02-24T11:29:04.524+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_1.created_at,
        c1_1.email,
        c1_1.password,
        c1_1.phone_number,
        c1_1.role,
        c1_1.username,
        c1_0.default_address 
    from
        customers c1_0 
    join
        users c1_1 
            on c1_0.id=c1_1.id 
    where
        c1_0.id=?
2025-02-24T11:29:04.525+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] c.e.c.s.impl.DeliveryPackageServiceImpl  : Creating new delivery package for customer: customer
2025-02-24T11:29:04.534+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        delivery_packages
        (assigned_at, cancelled_at, courier_id, created_at, current_latitude, current_location, current_longitude, customer_id, delivered_at, delivery_address, description, latitude, longitude, picked_up_at, pickup_address, special_instructions, status, tracking_number, updated_at, weight, package_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-02-24T11:29:04.540+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        delivery_status_history
        (courier_id, created_at, delivery_package_id, location_data, notes, status, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-02-24T11:29:04.541+03:00 DEBUG 38271 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        delivery_status_history
        (courier_id, created_at, delivery_package_id, location_data, notes, status, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-02-24T11:29:04.544+03:00  INFO 38271 --- [http-nio-8080-exec-1] c.e.c.c.r.CustomerController             : Customer customer (ID: 7) successfully created package
2025-02-24T11:29:08.317+03:00  INFO 38271 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
